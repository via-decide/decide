<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>| decide.engine |</title>

<meta name="theme-color" content="#0a0a0a">
<meta name="background-color" content="#0a0a0a">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
:root {
  --brand-orange:#ff671f;
  --brand-bg:#0a0a0a;
  --text-main:#f0f0f0;
  --accent-go:#00e676;
  --font-tech:'Courier New', monospace;
  --font-ui:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
}

html,body{
  margin:0;
  height:100%;
  background:var(--brand-bg);
  color:var(--text-main);
  font-family:var(--font-ui);
  overflow:hidden;
}

#master-container{
  position:relative;
  width:100vw;
  height:100vh;
  overflow:hidden;
}

.main-slide{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  background:var(--brand-bg);
  transition:transform .45s cubic-bezier(.2,.8,.2,1);
}

.main-slide.active{transform:translateY(0);z-index:10;}
.main-slide.next{transform:translateY(100%);}
.main-slide.prev{transform:translateY(-100%);}

.slide-header{
  padding:20px;
  border-left:3px solid var(--brand-orange);
  font-family:var(--font-tech);
  color:var(--brand-orange);
  flex-shrink:0;
}

.lobby-container{
  flex:1;
  padding:30px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:15px;
}

.cuisine-btn{
  padding:18px;
  background:#222;
  border:1px solid #444;
  color:#aaa;
  border-radius:10px;
  font-weight:bold;
  text-transform:uppercase;
}

.cuisine-btn.selected{
  background:var(--brand-orange);
  color:#000;
}

.btn{
  padding:16px;
  background:#222;
  border:1px solid #333;
  color:#fff;
  border-radius:10px;
  font-weight:bold;
}

#search-input{
  padding:16px;
  background:#111;
  border:1px solid #333;
  color:#fff;
  border-radius:10px;
  font-size:1.1rem;
}

.toast-msg{
  position:fixed;
  bottom:40px;
  left:50%;
  transform:translateX(-50%);
  background:#111;
  color:var(--accent-go);
  padding:10px 18px;
  border-radius:20px;
  opacity:0;
  transition:.3s;
}
.toast-msg.visible{opacity:1;}
</style>
</head>

<body>
<div id="master-container"></div>
<div id="toast" class="toast-msg"></div>

<script>
const MODULES={
  {
  "CONFIG": {
    "APP_NAME": "decide.engine",
    "VERSION": "v67.3",
    "AMZN_TAG": "decideos-21",
    "YOUTUBE_CHANNEL": "https://www.youtube.com/@decide.engine",
    "SUPPORT_URL": "https://www.buymeacoffee.com/kutchautomation",
    "BACKEND_URL": "https://script.google.com/macros/s/AKfycbxxh1ZwNRwqsSW1Lf62eh2wiwaNKzHWX8Icq472NQVj7-yEvOYuTDuiEGmelW_DG2Zs/exec"
  },

  "DATABASES": {
    "PHONES": {
      "Poco F7": {
        "attr": { "camera": 6.0, "gaming": 10.0, "battery": 9.0, "ui": 4.0 },
        "tags": ["heavy", "bloatware", "performance"],
        "price": 29999
      },
      "iQOO Neo 10R": {
        "attr": { "camera": 7.0, "gaming": 9.5, "battery": 9.0, "ui": 6.0 },
        "tags": ["balanced", "value", "144hz"],
        "price": 30999
      },
      "Nothing 3a Pro": {
        "attr": { "camera": 8.5, "gaming": 7.0, "battery": 7.5, "ui": 10.0 },
        "tags": ["clean_ui", "no_charger", "service_king"],
        "price": 27999
      },
      "Xiaomi 14 Civi": {
        "attr": { "camera": 9.5, "gaming": 6.0, "battery": 6.5, "ui": 6.0 },
        "tags": ["camera_king", "compact"],
        "price": 32999
      },
      "Vivo V60e": {
        "attr": { "camera": 10.0, "gaming": 5.0, "battery": 7.5, "ui": 7.0 },
        "tags": ["camera_king", "aura_light", "weak_chip"],
        "price": 28999
      },
      "Samsung A55": {
        "attr": { "camera": 8.0, "gaming": 4.0, "battery": 7.0, "ui": 9.5 },
        "tags": ["trust", "slow_charge", "updates"],
        "price": 33999
      },
      "Realme GT 7T": {
        "attr": { "camera": 6.0, "gaming": 9.0, "battery": 10.0, "ui": 5.0 },
        "tags": ["battery_king", "plastic_build", "120w"],
        "price": 31999
      },
      "Samsung Galaxy F07": {
        "attr": { "camera": 6.0, "gaming": 3.0, "battery": 9.0, "ui": 7.0 },
        "tags": ["budget", "trust"],
        "price": 7499
      },
      "Realme Note 60": {
        "attr": { "camera": 5.0, "gaming": 4.0, "battery": 8.0, "ui": 6.0 },
        "tags": ["budget", "value"],
        "price": 7999
      }
    },

    "EARBUDS": {
      "Technics AZ100": {
        "attr": { "anc": 9.0, "sound": 9.9, "mic": 9.5, "latency": 8.5, "battery": 7.0 },
        "tags": ["audiophile", "multipoint"],
        "price": 22990
      },
      "Sony WF-1000XM6": {
        "attr": { "anc": 10.0, "sound": 9.5, "mic": 8.5, "latency": 6.0, "battery": 7.5 },
        "tags": ["anc_king", "travel"],
        "price": 24990
      },
      "SteelSeries Arctis": {
        "attr": { "anc": 7.0, "sound": 8.0, "mic": 8.0, "latency": 10.0, "battery": 8.0 },
        "tags": ["gaming_pro", "dongle"],
        "price": 17999
      },
      "Beats Powerbeats 2": {
        "attr": { "anc": 7.5, "sound": 9.0, "mic": 8.0, "latency": 7.0, "battery": 9.0 },
        "tags": ["sport", "stable"],
        "price": 21900
      },
      "Tribit FlyBuds 3": {
        "attr": { "anc": 5.0, "sound": 7.0, "mic": 6.0, "latency": 6.0, "battery": 10.0 },
        "tags": ["battery_king", "powerbank"],
        "price": 3999
      },
      "OnePlus Nord Buds 3": {
        "attr": { "anc": 9.5, "sound": 8.0, "mic": 7.5, "latency": 7.0, "battery": 8.0 },
        "tags": ["value_anc", "49db"],
        "price": 3299
      },
      "GoBoult Z40 Pro": {
        "attr": { "anc": 6.0, "sound": 7.5, "mic": 5.0, "latency": 8.5, "battery": 7.0 },
        "tags": ["budget_king", "rgb"],
        "price": 1499
      },
      "Shure Aonic 215": {
        "attr": { "anc": 8.0, "sound": 10.0, "mic": 7.0, "latency": 7.0, "battery": 7.0 },
        "tags": ["audiophile", "eq_master"],
        "price": 18999
      }
    }
  },

  "MODULES": {
    "smartphones": {
      "label": "SMARTPHONES",
      "categories": [
        { "label": "CAMERA-FIRST", "type": "camera", "items": ["Vivo V60e", "Xiaomi 14 Civi", "Samsung A55"] },
        { "label": "PRO GAMER", "type": "gaming", "items": ["Poco F7", "iQOO Neo 10R"] },
        { "label": "CLEAN UI", "type": "ui", "items": ["Nothing 3a Pro", "Samsung Galaxy F07"] },
        { "label": "BATTERY KING", "type": "battery", "items": ["Realme GT 7T"] }
      ]
    },
    "earbuds": {
      "label": "EARBUDS",
      "categories": [
        { "label": "AUDIOPHILE", "type": "sound", "items": ["Technics AZ100", "Sony WF-1000XM6"] },
        { "label": "ZERO LATENCY", "type": "latency", "items": ["SteelSeries Arctis", "GoBoult Z40 Pro"] },
        { "label": "WORK CALLS", "type": "mic", "items": ["Technics AZ100", "OnePlus Nord Buds 3"] },
        { "label": "ANC KING", "type": "anc", "items": ["Sony WF-1000XM6"] },
        { "label": "BATTERY MARATHON", "type": "battery", "items": ["Tribit FlyBuds 3"] }
      ]
    },
    "food": {
      "label": "DINING",
      "external_url": "https://via-decide.github.io/food.decider/"
    },
    "research": {
      "label": "RESEARCH",
      "sources": ["wikipedia", "wikivoyage"]
    }
  },

  "WIKI_ENGINE": {
    "endpoints": {
      "wiki": "https://en.wikipedia.org/w/api.php",
      "travel": "https://en.wikivoyage.org/w/api.php"
    },
    "extract": {
      "summary": true,
      "links": true,
      "plaintext": true,
      "limit": 15
    }
  },

  "ECOMMERCE": {
    "amazon": {
      "web": "https://www.amazon.in/s?k={query}&tag=decideos-21",
      "intent": "intent://www.amazon.in/s?k={query}&tag=decideos-21#Intent;scheme=https;package=in.amazon.mShop.android.shopping;end"
    }
  }
}
};

let ENGINE_STATE={currentDomain:null};
let slideElements=[];
let currentIdx=0;

function boot(){renderLobby();}

function renderLobby(){
  const c=document.getElementById("master-container");
  c.innerHTML="";
  const s=document.createElement("section");
  s.className="main-slide active";
  s.innerHTML=`
    <div class="slide-header">DECIDE OS</div>
    <div class="lobby-container">
      <h1>Select Domain</h1>
      ${Object.keys(MODULES).map(k=>`
        <button class="cuisine-btn" onclick="selectDomain('${k}',this)">
          ${MODULES[k].label}
        </button>`).join("")}
      <button class="btn" onclick="handleStart()">NEXT →</button>
    </div>`;
  c.appendChild(s);
  slideElements=[s];
  currentIdx=0;
}

function selectDomain(id,btn){
  ENGINE_STATE.currentDomain=id;
  document.querySelectorAll(".cuisine-btn").forEach(b=>b.classList.remove("selected"));
  btn.classList.add("selected");
}

function handleStart(){
  if(!ENGINE_STATE.currentDomain)return showToast("SELECT DOMAIN");
  MODULES[ENGINE_STATE.currentDomain].init();
}

function renderSearchSlide(){
  const c=document.getElementById("master-container");
  while(c.children.length>1)c.removeChild(c.lastChild);

  const s=document.createElement("section");
  s.className="main-slide next";
  s.innerHTML=`
    <div class="slide-header">WIKIPEDIA</div>
    <div class="lobby-container">
      <h1>Topic?</h1>
      <input id="search-input" placeholder="AI, Space, History">
      <button class="btn" onclick="executeSearch()">SEARCH</button>
    </div>`;
  c.appendChild(s);
  slideElements.push(s);
  goToSlide(1);
}

async function executeSearch(){
  const q=document.getElementById("search-input").value;
  if(!q)return showToast("ENTER TOPIC");
  showToast("SEARCHING…");
}

function goToSlide(i){
  if(i<0)return;
  slideElements[currentIdx].classList.replace("active",i>currentIdx?"prev":"next");
  currentIdx=i;
  slideElements[currentIdx].className="main-slide active";
}

function showToast(t){
  const el=document.getElementById("toast");
  el.textContent=t;
  el.classList.add("visible");
  setTimeout(()=>el.classList.remove("visible"),1800);
}

boot();
</script>
</body>
</html>
